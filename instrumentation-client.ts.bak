// This file configures the initialization of Sentry on the client.
// Disabled for Azure Static Web Apps builds

const isAzureBuild = typeof window !== 'undefined' && 
  (window.location.hostname.includes('azurestaticapps.net') ||
   process.env.NEXT_PUBLIC_AZURE_BUILD === 'true');

// Only initialize Sentry if not Azure build
if (!isAzureBuild) {
  import("@sentry/nextjs").then((Sentry) => {
    Sentry.init({
      dsn: "https://b8f483c8abdb798e1a9d63cb2c85f158@o4510691517464576.ingest.de.sentry.io/4510691539222608",
      integrations: [Sentry.replayIntegration()],
      tracesSampleRate: 1,
      enableLogs: true,
      replaysSessionSampleRate: 0.1,
      replaysOnErrorSampleRate: 1.0,
      sendDefaultPii: true,
    });
  }).catch(() => {
    console.log('Sentry client initialization skipped');
  });
}

export const onRouterTransitionStart = Sentry.captureRouterTransitionStart;
