### Test Rapide - Fonctionnalit√©s Avanc√©es MemoLib

# Variables
@baseUrl = http://localhost:5078
@token = 

### 1. Test de sant√© de l'API
GET {{baseUrl}}/health

### 2. Connexion utilisateur
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "sarraboudjellal57@gmail.com",
  "password": "SecurePass123!"
}

### 3. Test Dashboard Metrics (n√©cessite token)
GET {{baseUrl}}/api/dashboard/metrics
Authorization: Bearer {{token}}

### 4. Test Stats Temps R√©el
GET {{baseUrl}}/api/dashboard/realtime-stats
Authorization: Bearer {{token}}

### 5. Test Templates - G√©n√©ration
POST {{baseUrl}}/api/templates/generate
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "clientContext": "Client urgent demande rendez-vous divorce",
  "subject": "Demande de consultation divorce",
  "caseType": "divorce"
}

### 6. Test Templates - Liste
GET {{baseUrl}}/api/templates
Authorization: Bearer {{token}}

### 7. Test Questionnaires pour un √©v√©nement
GET {{baseUrl}}/api/questionnaire/for-event/EVENT_ID_HERE
Authorization: Bearer {{token}}

### 8. Test SignalR Hub (via navigateur)
# Ouvrir http://localhost:5078/demo.html
# Se connecter et v√©rifier les notifications temps r√©el

### 9. Test Ingestion Email (pour d√©clencher notifications)
POST {{baseUrl}}/api/ingest/email
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "from": "test@example.com",
  "subject": "Test notification temps r√©el",
  "body": "Test pour v√©rifier les notifications SignalR",
  "externalId": "TEST-NOTIF-001",
  "occurredAt": "2026-02-22T22:00:00Z"
}

### 10. Test Centre Anomalies
GET {{baseUrl}}/api/alerts/center?limit=5
Authorization: Bearer {{token}}

### Notes de test:
# 1. D√©marrer l'API: dotnet run --urls "http://localhost:5078"
# 2. Ouvrir http://localhost:5078/demo.html
# 3. Se connecter avec les identifiants par d√©faut
# 4. Tester le bouton "üìä Dashboard Avanc√©"
# 5. Tester le bouton "üìù R√©ponse IA" sur un email
# 6. V√©rifier les notifications temps r√©el