<!DOCTYPE html>
<html>
<head>
    <title>Dashboard - IAPosteManager</title>
    <style>
        body { font-family: Arial; margin: 20px; background: #f5f5f5; }
        .header { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .stat-card { background: white; padding: 20px; border-radius: 8px; text-align: center; }
        .stat-number { font-size: 2em; font-weight: bold; color: #007cba; }
        .stat-label { color: #666; margin-top: 5px; }
        .back-btn { background: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
        .back-btn:hover { background: #545b62; }
    </style>
</head>
<body>
    <div class="header">
        <button onclick="window.location.href='/'" class="back-btn">‚Üê Retour</button>
        <h1>üìä Dashboard</h1>
        <p>Vue d'ensemble de votre activit√© email</p>
    </div>
    
    <div class="stats">
        <div class="stat-card">
            <div class="stat-number" id="totalEmails">-</div>
            <div class="stat-label">Emails envoy√©s</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="todayEmails">-</div>
            <div class="stat-label">Aujourd'hui</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="aiGenerations">-</div>
            <div class="stat-label">G√©n√©rations IA</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="accessibilityUsers">-</div>
            <div class="stat-label">Utilisateurs accessibilit√©</div>
        </div>
    </div>
    
    <div style="background: white; padding: 20px; border-radius: 8px;">
        <h3>üöÄ Actions rapides</h3>
        <a href="/compose.html" style="display: inline-block; background: #007cba; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; margin: 5px;">‚úçÔ∏è Composer</a>
        <a href="/ai-generator.html" style="display: inline-block; background: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; margin: 5px;">ü§ñ G√©n√©rer IA</a>
        <a href="/voice.html" style="display: inline-block; background: #dc3545; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; margin: 5px;">üé§ Vocal</a>
    </div>

    <script>
        async function loadStats() {
            try {
                const response = await fetch('/api/dashboard/stats');
                const data = await response.json();
                
                document.getElementById('totalEmails').textContent = data.total_emails || 0;
                document.getElementById('todayEmails').textContent = data.today_emails || 0;
                document.getElementById('aiGenerations').textContent = data.ai_generations || 0;
                document.getElementById('accessibilityUsers').textContent = data.accessibility_users || 0;
            } catch (error) {
                console.error('Erreur chargement stats:', error);
            }
        }
        
        window.onload = loadStats;
    </script>
</body>
</html>