(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,659544,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(975157);let l=a.forwardRef(({className:e,variant:a="default",size:l="default",...r},i)=>(0,s.jsx)("button",{className:(0,t.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===a,"border border-input hover:bg-accent hover:text-accent-foreground":"outline"===a,"hover:bg-accent hover:text-accent-foreground":"ghost"===a,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===a},{"h-10 py-2 px-4":"default"===l,"h-9 px-3 rounded-md":"sm"===l,"h-11 px-8 rounded-md":"lg"===l},e),ref:i,...r}));l.displayName="Button",e.s(["Button",()=>l])},639424,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(339964),l=e.i(473668),r=e.i(496640),i=e.i(659544);function d(){let[e,d]=(0,a.useState)([]),[n,c]=(0,a.useState)(null),[o,x]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[j,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{p();let e=setInterval(p,5e3);return()=>clearInterval(e)},[]);let p=async()=>{try{let[e,s,a,t,l]=await Promise.all([fetch("/api/dev/logs?limit=100"),fetch("/api/dev/metrics"),fetch("/api/dev/ai-stats"),fetch("/api/dev/workflow-stats"),fetch("/api/dev/health")]);d(await e.json()),c(await s.json()),x(await a.json()),h(await t.json()),u(await l.json())}catch(e){console.error("Erreur chargement dashboard:",e)}},g=async()=>{await fetch("/api/dev/logs",{method:"DELETE"}),d([])},v=async e=>{let s=await fetch(`/api/dev/logs/export?format=${e}`),a=new Blob([await s.text()],{type:"json"===e?"application/json":"text/csv"}),t=URL.createObjectURL(a),l=document.createElement("a");l.href=t,l.download=`logs-${new Date().toISOString()}.${e}`,l.click()};return n&&j?(0,s.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"[emoji] Dashboard Developpement"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Monitoring temps reel & debugging avance"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>v("json"),children:"[emoji] Export JSON"}),(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>v("csv"),children:"[emoji] Export CSV"}),(0,s.jsx)(i.Button,{variant:"destructive",onClick:g,children:"[emoji]ï¸ Clear Logs"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-2",children:(0,s.jsx)(t.CardTitle,{className:"text-sm",children:"Status Systeme"})}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:"healthy"===j.status?"[emoji] Operationnel":"[emoji] Probleme"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Uptime: ",j.uptime]})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-2",children:(0,s.jsx)(t.CardTitle,{className:"text-sm",children:"Requetes IA"})}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:o?.total||0}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Avg: ",o?.averageDuration?.toFixed(0),"ms"]})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-2",children:(0,s.jsx)(t.CardTitle,{className:"text-sm",children:"Workflows Actifs"})}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:m?.active||0}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Taux succes: ",m?.successRate?.toFixed(1),"%"]})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-2",children:(0,s.jsx)(t.CardTitle,{className:"text-sm",children:"Performance"})}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[n.averageDuration?.toFixed(0),"ms"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[n.totalOperations," operations"]})]})]})]}),(0,s.jsxs)(l.Tabs,{defaultValue:"logs",className:"space-y-4",children:[(0,s.jsxs)(l.TabsList,{className:"grid w-full grid-cols-4",children:[(0,s.jsx)(l.TabsTrigger,{value:"logs",children:"[emoji] Logs"}),(0,s.jsx)(l.TabsTrigger,{value:"ai",children:"[emoji] IA"}),(0,s.jsx)(l.TabsTrigger,{value:"workflows",children:"[emoji] Workflows"}),(0,s.jsx)(l.TabsTrigger,{value:"performance",children:" Performance"})]}),(0,s.jsx)(l.TabsContent,{value:"logs",children:(0,s.jsxs)(t.Card,{children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsx)(t.CardTitle,{children:"Logs en Temps Reel"}),(0,s.jsx)(t.CardDescription,{children:"Derniers evenements systeme"})]}),(0,s.jsx)(t.CardContent,{children:(0,s.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:e.map((e,a)=>(0,s.jsx)("div",{className:`p-3 rounded border ${"ERROR"===e.level||"CRITICAL"===e.level?"bg-red-50 border-red-300":"WARN"===e.level?"bg-yellow-50 border-yellow-300":"bg-gray-50 border-gray-200"}`,children:(0,s.jsx)("div",{className:"flex justify-between items-start",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Badge,{variant:"ERROR"===e.level?"destructive":"default",children:e.level}),(0,s.jsx)(r.Badge,{variant:"outline",children:e.category}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,s.jsx)("p",{className:"mt-1 font-medium",children:e.message}),e.context&&(0,s.jsx)("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-x-auto",children:JSON.stringify(e.context,null,2)})]})})},a))})})]})}),(0,s.jsx)(l.TabsContent,{value:"ai",children:(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsx)(t.CardTitle,{children:"Analyse IA - Metriques"})}),(0,s.jsx)(t.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Requetes"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:o?.total||0})]}),(0,s.jsxs)("div",{className:"p-4 bg-green-50 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Taux Succes"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[o?.successRate?.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-purple-50 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Duree Moyenne"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[o?.averageDuration?.toFixed(0),"ms"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Requetes les plus lentes"}),(0,s.jsx)("div",{className:"space-y-2",children:o?.slowest?.map((e,a)=>(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded flex justify-between",children:[(0,s.jsx)("span",{className:"font-mono text-sm",children:e.operation}),(0,s.jsxs)(r.Badge,{variant:e.duration>5e3?"destructive":"default",children:[e.duration.toFixed(0),"ms"]})]},a))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Modeles utilises"}),(0,s.jsx)("div",{className:"space-y-2",children:o?.models?.map((e,a)=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)(r.Badge,{children:[e.count," requetes"]})]},a))})]})]})})]})}),(0,s.jsx)(l.TabsContent,{value:"workflows",children:(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsx)(t.CardTitle,{children:"Workflows - etat"})}),(0,s.jsx)(t.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Actifs"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:m?.active||0})]}),(0,s.jsxs)("div",{className:"p-4 bg-green-50 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Completes"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:m?.completed||0})]}),(0,s.jsxs)("div",{className:"p-4 bg-red-50 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"echoues"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:m?.failed||0})]}),(0,s.jsxs)("div",{className:"p-4 bg-purple-50 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"En attente"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:m?.pending||0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Workflows par type"}),(0,s.jsx)("div",{className:"space-y-2",children:m?.byType?.map((e,a)=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(r.Badge,{variant:"outline",children:[e.count," executions"]}),(0,s.jsxs)(r.Badge,{children:[e.successRate?.toFixed(1),"% succes"]})]})]},a))})]})]})})]})}),(0,s.jsx)(l.TabsContent,{value:"performance",children:(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsx)(t.CardTitle,{children:"Performance Systeme"})}),(0,s.jsx)(t.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Operations les plus lentes"}),(0,s.jsx)("div",{className:"space-y-2",children:n.slowestOperations?.map((e,a)=>(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("span",{className:"font-mono text-sm",children:e.operation}),(0,s.jsxs)(r.Badge,{variant:e.duration>1e3?"destructive":"default",children:[e.duration.toFixed(0),"ms"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.Badge,{variant:"outline",children:e.category}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]})]},a))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Duree Moyenne Globale"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[n.averageDuration?.toFixed(0),"ms"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Taux de Succes"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[n.successRate?.toFixed(1),"%"]})]})]})]})})]})})]})]}):(0,s.jsx)("div",{className:"p-6",children:" Chargement dashboard..."})}e.s(["default",()=>d,"dynamic",0,"force-dynamic"])}]);