(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,440160,e=>{"use strict";let r=(0,e.i(475254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>r],440160)},283086,e=>{"use strict";let r=(0,e.i(475254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>r],283086)},751975,e=>{"use strict";let r=(0,e.i(475254).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>r],751975)},531278,e=>{"use strict";let r=(0,e.i(475254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],531278)},662031,e=>{"use strict";let r=(0,e.i(475254).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);e.s(["Share2",()=>r],662031)},690454,e=>{"use strict";var r=e.i(843476),t=e.i(271645),s=e.i(618566),a=e.i(555436),l=e.i(37727),d=e.i(178583),i=e.i(761911),n=e.i(327025),c=e.i(263488),x=e.i(531278),o=e.i(25652);function g({placeholder:e="Rechercher des clients, dossiers, documents...",className:g="",showFilters:h=!0,onResultClick:m}){let u=(0,s.useRouter)(),[y,p]=(0,t.useState)(""),[b,j]=(0,t.useState)([]),[k,v]=(0,t.useState)([]),[f,N]=(0,t.useState)(!1),[w,S]=(0,t.useState)(!1),[R,C]=(0,t.useState)([]),M=(0,t.useRef)(null),T=(0,t.useRef)(null);(0,t.useEffect)(()=>{let e=e=>{M.current&&!M.current.contains(e.target)&&S(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),T.current?.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),(0,t.useEffect)(()=>{if(y.length<2){j([]),v([]);return}let e=setTimeout(async()=>{await z(y),await q(y)},300);return()=>clearTimeout(e)},[y,R]);let z=async e=>{N(!0);try{let r=new URLSearchParams({q:e});R.length>0&&r.append("types",R.join(","));let t=await fetch(`/api/search?${r}`),s=await t.json();j(s.results||[]),S(!0)}catch(e){console.error("Search error:",e),j([])}finally{N(!1)}},q=async e=>{try{let r=await fetch(`/api/search/suggestions?q=${encodeURIComponent(e)}`),t=await r.json();v(t.suggestions||[])}catch(e){console.error("Suggestions error:",e)}},E=e=>{switch(e){case"client":return(0,r.jsx)(i.Users,{className:"w-4 h-4"});case"dossier":return(0,r.jsx)(n.Folder,{className:"w-4 h-4"});case"document":return(0,r.jsx)(d.FileText,{className:"w-4 h-4"});case"email":return(0,r.jsx)(c.Mail,{className:"w-4 h-4"});default:return(0,r.jsx)(a.Search,{className:"w-4 h-4"})}},U=e=>{switch(e){case"client":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300";case"dossier":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";case"document":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300";case"email":return"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}};return(0,r.jsxs)("div",{ref:M,className:`relative w-full max-w-2xl ${g}`,children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f?(0,r.jsx)(x.Loader2,{className:"w-5 h-5 text-gray-400 animate-spin"}):(0,r.jsx)(a.Search,{className:"w-5 h-5 text-gray-400"})}),(0,r.jsx)("input",{ref:T,type:"text",value:y,onChange:e=>p(e.target.value),onFocus:()=>y.length>=2&&S(!0),placeholder:e,className:"w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg  focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),y&&(0,r.jsx)("button",{onClick:()=>{p(""),j([]),S(!1)},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:(0,r.jsx)(l.X,{className:"w-5 h-5"})}),!y&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,r.jsx)("kbd",{className:"px-2 py-1 text-xs font-semibold text-gray-500 bg-gray-100 border border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600",children:"Ctrl+K"})})]}),h&&(0,r.jsx)("div",{className:"flex gap-2 mt-2",children:["client","dossier","document","email"].map(e=>(0,r.jsx)("button",{onClick:()=>{C(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors
                ${R.includes(e)?U(e):"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[E(e),e.charAt(0).toUpperCase()+e.slice(1)]})},e))}),w&&y.length>=2&&(0,r.jsxs)("div",{className:"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 max-h-96 overflow-y-auto",children:[k.length>0&&0===b.length&&(0,r.jsxs)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-xs text-gray-500",children:[(0,r.jsx)(o.TrendingUp,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"Suggestions"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map((e,t)=>(0,r.jsx)("button",{onClick:()=>{p(e),T.current?.focus()},className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600",children:e},t))})]}),b.length>0?(0,r.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:b.map(e=>(0,r.jsx)("button",{onClick:()=>{S(!1),p(""),m?m(e):e.url&&u.push(e.url)},className:"w-full px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 text-left transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:`p-2 rounded-lg ${U(e.type)}`,children:E(e.type)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.title}),(0,r.jsx)("span",{className:`px-2 py-0.5 text-xs rounded ${U(e.type)}`,children:e.type})]}),e.subtitle&&(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:e.subtitle}),e.description&&(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1 line-clamp-2",children:e.description}),e.tags&&e.tags.length>0&&(0,r.jsx)("div",{className:"flex gap-1 mt-2",children:e.tags.slice(0,3).map((e,t)=>(0,r.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",children:e},t))})]})]})},e.id))}):!f&&(0,r.jsxs)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[(0,r.jsx)(a.Search,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,r.jsx)("p",{className:"text-sm",children:"Aucun resultat trouve"}),(0,r.jsx)("p",{className:"text-xs mt-1",children:"Essayez avec d'autres mots-cles"})]}),b.length>0&&(0,r.jsxs)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-900 text-xs text-gray-500 text-center",children:[b.length," resultat",b.length>1?"s":""," trouve",b.length>1?"s":""]})]})]})}var h=e.i(687130),m=e.i(87316),u=e.i(751975);let y=(0,e.i(475254).default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);var p=e.i(440160),b=e.i(662031),j=e.i(283086);function k(){(0,s.useSearchParams)().get("q");let[e,a]=(0,t.useState)(!1),[l,d]=(0,t.useState)({}),[i,n]=(0,t.useState)({totalResults:0,executionTime:0,indexedDocuments:0});return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)(j.Sparkles,{className:"w-8 h-8 text-blue-600"}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Recherche Intelligente"})]}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Trouvez rapidement tous vos clients, dossiers, documents et emails"})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(g,{placeholder:"Rechercher dans toute l'application...",showFilters:!0})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("button",{onClick:()=>a(!e),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600"}`,children:[(0,r.jsx)(y,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Filtres avances"})]}),i.totalResults>0&&(0,r.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"font-semibold",children:i.totalResults})," resultats",(0,r.jsx)("span",{className:"mx-2",children:"-"}),(0,r.jsxs)("span",{children:[i.executionTime,"ms"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{className:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(p.Download,{className:"w-4 h-4"})}),(0,r.jsx)("button",{className:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(b.Share2,{className:"w-4 h-4"})})]})]}),e&&(0,r.jsxs)("div",{className:"mb-6 p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Filtres avances"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,r.jsx)(m.Calendar,{className:"w-4 h-4"}),"Periode"]}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,r.jsx)("option",{children:"Toutes les dates"}),(0,r.jsx)("option",{children:"Aujourd'hui"}),(0,r.jsx)("option",{children:"Cette semaine"}),(0,r.jsx)("option",{children:"Ce mois"}),(0,r.jsx)("option",{children:"Cette annee"}),(0,r.jsx)("option",{children:"Personnalise"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,r.jsx)(h.Filter,{className:"w-4 h-4"}),"Statut"]}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,r.jsx)("option",{children:"Tous les statuts"}),(0,r.jsx)("option",{children:"En cours"}),(0,r.jsx)("option",{children:"Termine"}),(0,r.jsx)("option",{children:"En attente"}),(0,r.jsx)("option",{children:"Urgent"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,r.jsx)(u.Tag,{className:"w-4 h-4"}),"Tags"]}),(0,r.jsx)("input",{type:"text",placeholder:"Entrez des tags...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,r.jsx)("button",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Reinitialiser"}),(0,r.jsx)("button",{className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Appliquer les filtres"})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3 text-blue-900 dark:text-blue-100",children:"[emoji] Conseils de recherche"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800 dark:text-blue-200",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Recherche exacte :"}),' Utilisez des guillemets "mot exact"']}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Exclure des mots :"})," Utilisez le signe moins -motexclu"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Recherche par type :"})," type:client, type:dossier, etc."]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Recherche par date :"})," date:2024-01 ou after:2024-01-01"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Operateur OU :"})," mot1 OR mot2"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Wildcards :"})," Utilisez * pour remplacer plusieurs caracteres"]})]})]})]})})}function v(){return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:(0,r.jsx)(k,{})})}e.s(["default",()=>v,"dynamic",0,"force-dynamic"],690454)}]);