(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,659544,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(975157);let a=s.forwardRef(({className:e,variant:s="default",size:a="default",...i},d)=>(0,t.jsx)("button",{className:(0,r.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===s,"border border-input hover:bg-accent hover:text-accent-foreground":"outline"===s,"hover:bg-accent hover:text-accent-foreground":"ghost"===s,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===s},{"h-10 py-2 px-4":"default"===a,"h-9 px-3 rounded-md":"sm"===a,"h-11 px-8 rounded-md":"lg"===a},e),ref:d,...i}));a.displayName="Button",e.s(["Button",()=>a])},815518,e=>{"use strict";e.i(159354),e.s([])},716787,e=>{"use strict";e.i(339964),e.i(738171),e.i(447647),e.i(496640),e.i(473668),e.i(61418),e.i(659544),e.i(815518),e.i(888840),e.i(843476),e.i(964753),e.i(558700),e.s([],716787)},292270,e=>{"use strict";let t=(0,e.i(475254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>t],292270)},938337,e=>{"use strict";var t=e.i(843476),s=e.i(754338),r=e.i(271645),a=e.i(522016);e.i(716787);var i=e.i(339964),d=e.i(738171),n=e.i(496640),l=e.i(964753),c=e.i(61418),o=e.i(178583),x=e.i(503116),m=e.i(269638),g=e.i(878894),h=e.i(292270),u=e.i(245423),j=e.i(599811),f=e.i(686311),b=e.i(98919);function y(){let{user:e,isLoading:y,isAuthenticated:v,isClient:p}=(0,s.useAuth)(),[N,k]=(0,r.useState)(null),[w,C]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(v&&!p){window.location.href="/dashboard";return}},[v,p]),(0,r.useEffect)(()=>{v&&p&&e?.clientId&&D()},[v,p,e?.clientId]);let D=async()=>{try{C(!0);let t=await fetch(`/api/client/${e?.clientId}/dashboard`);if(t.ok){let e=await t.json();k(e)}}catch(e){console.error("Erreur:",e)}finally{C(!1)}};return y||w?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):v&&p?(0,t.jsxs)("div",{className:"p-6 space-y-6 max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(l.Breadcrumb,{items:[{label:"Mon Espace Client"}]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Mon Espace Personnel"}),(0,t.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Bienvenue, ",e?.name]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)(n.Badge,{variant:"info",children:"Client"}),(0,t.jsx)(n.Badge,{variant:"default",children:e?.tenantName})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors relative",children:[(0,t.jsx)(u.Bell,{className:"w-5 h-5"}),(N?.mesFactures?.enRetard||0)>0&&(0,t.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e?.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Client"})]}),(0,t.jsx)("button",{onClick:()=>window.location.href="/api/auth/signout",className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:(0,t.jsx)(h.LogOut,{className:"w-5 h-5"})})]})]})]}),(N?.mesFactures?.enRetard||0)>0&&(0,t.jsxs)(c.Alert,{variant:"error",title:"Factures en retard",children:["Vous avez ",N?.mesFactures?.enRetard||0," facture(s) en retard de paiement."]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(d.StatCard,{title:"Mon Dossier",value:N?.monDossier?"Actif":"Aucun",icon:o.FileText}),(0,t.jsx)(d.StatCard,{title:"Factures Payees",value:N?.mesFactures.payees||0,icon:m.CheckCircle}),(0,t.jsx)(d.StatCard,{title:"En Attente",value:N?.mesFactures.enAttente||0,icon:x.Clock}),(0,t.jsx)(d.StatCard,{title:"En Retard",value:N?.mesFactures.enRetard||0,icon:g.AlertTriangle})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(i.Card,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Mon Dossier"}),N?.monDossier?(0,t.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:N.monDossier.numero}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:N.monDossier.typeDossier})]}),(0,t.jsx)(n.Badge,{variant:"info",children:N.monDossier.statut})]}),N.monDossier.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:N.monDossier.description}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsxs)("span",{children:["Cree le ",new Date(N.monDossier.dateCreation).toLocaleDateString("fr-FR")]}),N.monDossier.dateEcheance&&(0,t.jsxs)("span",{children:["echeance: ",new Date(N.monDossier.dateEcheance).toLocaleDateString("fr-FR")]})]})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(o.FileText,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun dossier en cours"})]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(i.Card,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Actions Rapides"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(a.default,{href:"/mes-factures",className:"block p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg hover:border-green-500 transition-all group",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,t.jsx)(j.Euro,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Mes Factures"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Paiements"})]})]})}),(0,t.jsx)(a.default,{href:"/contact",className:"block p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg hover:border-indigo-500 transition-all group",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-lg",children:(0,t.jsx)(f.MessageSquare,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Contacter"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Votre avocat"})]})]})})]})]})})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(b.Shield,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Acces non autorise"})]})})}e.s(["default",()=>y,"dynamic",0,"force-dynamic"])}]);