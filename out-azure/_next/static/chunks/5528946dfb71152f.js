(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,871689,e=>{"use strict";let r=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>r],871689)},283086,e=>{"use strict";let r=(0,e.i(475254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>r],283086)},684374,e=>{"use strict";var r=e.i(843476),a=e.i(271645),t=e.i(618566),s=e.i(871689),l=e.i(283086),i=e.i(63209);let d={EMAIL:{icon:"[emoji]",label:"Email",description:"Creer depuis un email recu"},FORM:{icon:"[emoji]",label:"Formulaire",description:"Creer depuis une soumission de formulaire"},PHONE:{icon:"[emoji]",label:"Telephone",description:"Creer depuis un appel telephonique"},COURRIER:{icon:"️",label:"Courrier",description:"Creer depuis un courrier postal"},MANUAL:{icon:"️",label:"Manuel",description:"Creer manuellement un workspace"}},o=[{value:"OQTF",label:"OQTF - Obligation de Quitter le Territoire"},{value:"REFUS_TITRE",label:"Refus de Titre de Sejour"},{value:"RETRAIT_TITRE",label:"Retrait de Titre de Sejour"},{value:"NATURALISATION",label:"Naturalisation"},{value:"REGROUPEMENT_FAMILIAL",label:"Regroupement Familial"},{value:"ASILE",label:"Demande d'Asile"},{value:"AUTRE",label:"Autre procedure CESEDA"}];function n(){let e=(0,t.useRouter)(),[n,c]=(0,a.useState)("EMAIL"),[u,m]=(0,a.useState)(""),[x,b]=(0,a.useState)("OQTF"),[g,p]=(0,a.useState)({from:"",subject:"",receivedDate:""}),[h,y]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null);async function f(r){if(r.preventDefault(),!u.trim())return void k("Le contenu source est requis");try{y(!0),k(null);let r=await fetch("/api/lawyer/workspaces",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"reasoning",sourceType:n,sourceRaw:u,sourceMetadata:JSON.stringify(g),procedureType:x})}),a=await r.json();if(!r.ok)throw Error(a.error||"Erreur de creation");e.push(`/lawyer/workspace/${a.workspace.id}`)}catch(e){k(e instanceof Error?e.message:"Erreur de creation")}finally{y(!1)}}return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-6",children:[(0,r.jsxs)("button",{onClick:()=>e.back(),className:"inline-flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[(0,r.jsx)(s.ArrowLeft,{className:"w-5 h-5"}),"Retour"]}),(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-4xl",children:"[emoji]"}),"Nouveau Workspace de Raisonnement"]}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Creez un espace de raisonnement pour analyser intelligemment une situation juridique"})]})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:(0,r.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[j&&(0,r.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-start gap-3",children:[(0,r.jsx)(i.AlertCircle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-red-800",children:"Erreur"}),(0,r.jsx)("p",{className:"text-red-700",children:j})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Type de Source"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(d).map(([e,a])=>(0,r.jsxs)("button",{type:"button",onClick:()=>c(e),className:`p-4 rounded-lg border-2 transition-all ${n===e?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[(0,r.jsx)("div",{className:"text-3xl mb-2",children:a.icon}),(0,r.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white",children:a.label}),(0,r.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a.description})]},e))})]}),"EMAIL"===n&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Metadonnees Email"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"De (expediteur)"}),(0,r.jsx)("input",{type:"email",value:g.from,onChange:e=>p({...g,from:e.target.value}),placeholder:"client@example.com",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Objet"}),(0,r.jsx)("input",{type:"text",value:g.subject,onChange:e=>p({...g,subject:e.target.value}),placeholder:"Demande d'assistance juridique...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Contenu Source *"}),(0,r.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),placeholder:`Collez ici le contenu du ${d[n].label.toLowerCase()}...

Exemple:
Bonjour Maitre,

Je vous contacte car j'ai recu une OQTF il y a 3 jours. Je suis en France depuis 5 ans avec ma famille...`,rows:12,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white font-mono text-sm"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Le moteur d'IA analysera ce texte pour extraire les faits, identifier le contexte et deduire les obligations juridiques."})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Type de Procedure CESEDA (optionnel)"}),(0,r.jsxs)("select",{value:x,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,r.jsx)("option",{value:"",children:"-- Non specifie --"}),o.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"L'IA peut detecter automatiquement le type de procedure, mais vous pouvez le specifier."})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>e.back(),className:"px-6 py-3 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Annuler"}),(0,r.jsx)("button",{type:"submit",disabled:h||!u.trim(),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Creation en cours..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Sparkles,{className:"w-5 h-5"}),"Creer le Workspace"]})})]})]})})]})}e.s(["default",()=>n,"dynamic",0,"force-dynamic"])}]);