(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,311010,e=>{"use strict";var s=e.i(843476),r=e.i(271645);function t(){let[e,t]=(0,r.useState)(""),[a,n]=(0,r.useState)(!1),o=async e=>{e.preventDefault(),n(!0);let s=new FormData(e.currentTarget),r=s.get("email"),a=s.get("password");t(`<p>Envoi des donnees...</p>
      <p>Email: ${r}</p>
      <p>Password: ${a?"***":"VIDE!"}</p>`);try{let e=await fetch("/api/auth/csrf"),{csrfToken:s}=await e.json(),n=await fetch("/api/auth/callback/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:a,csrfToken:s,json:!0})}),o=await n.json();t(e=>e+`<hr>
        <p><strong>Status:</strong> ${n.status}</p>
        <p><strong>Response:</strong></p>
        <pre>${JSON.stringify(o,null,2)}</pre>`),n.ok&&o.url?(t(e=>e+'<p style="color: green;"> Connexion reussie!</p>'),setTimeout(()=>{window.location.href=o.url},2e3)):t(e=>e+'<p style="color: red;"> echec de connexion</p>')}catch(e){t(s=>s+`<hr><p style="color: red;"><strong>Erreur:</strong> ${e.message}</p>`)}finally{n(!1)}};return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Test de connexion direct"}),(0,s.jsxs)("form",{onSubmit:o,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email:"}),(0,s.jsx)("input",{type:"email",name:"email",defaultValue:"superadmin@iapostemanager.com",required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password:"}),(0,s.jsx)("input",{type:"password",name:"password",defaultValue:"SuperAdmin2026!",required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:opacity-50",children:a?"Connexion...":"Se connecter"})]}),e&&(0,s.jsx)("div",{className:"mt-6 p-4 border border-gray-300 rounded bg-gray-50",dangerouslySetInnerHTML:{__html:e}})]})}e.s(["default",()=>t,"dynamic",0,"force-dynamic"])}]);