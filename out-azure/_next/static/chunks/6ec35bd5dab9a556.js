(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,659544,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(975157);let r=t.forwardRef(({className:e,variant:t="default",size:r="default",...l},i)=>(0,s.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===t,"border border-input hover:bg-accent hover:text-accent-foreground":"outline"===t,"hover:bg-accent hover:text-accent-foreground":"ghost"===t,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===t},{"h-10 py-2 px-4":"default"===r,"h-9 px-3 rounded-md":"sm"===r,"h-11 px-8 rounded-md":"lg"===r},e),ref:i,...l}));r.displayName="Button",e.s(["Button",()=>r])},871689,e=>{"use strict";let s=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],871689)},343432,e=>{"use strict";let s=(0,e.i(475254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>s],343432)},346897,e=>{"use strict";let s=(0,e.i(475254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],346897)},36982,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(618566),r=e.i(339964),l=e.i(496640),i=e.i(659544),n=e.i(473668),c=e.i(871689),d=e.i(263488),o=e.i(343432),x=e.i(346897),m=e.i(87316),h=e.i(178583),u=e.i(63209),j=e.i(599811),g=e.i(284614);function p(){let e=(0,a.useParams)(),p=(0,a.useRouter)(),[f,v]=(0,t.useState)(null),[N,b]=(0,t.useState)(null),[y,C]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{fetch(`/api/admin/clients/${e.id}`).then(e=>e.json()).then(e=>{v(e.client),b(e.stats),C(!1)}).catch(()=>C(!1))},[e.id]),y)?(0,s.jsx)("div",{className:"p-8",children:"Chargement..."}):f?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)(i.Button,{variant:"ghost",onClick:()=>p.back(),className:"mb-4",children:[(0,s.jsx)(c.ArrowLeft,{className:"mr-2 h-4 w-4"})," Retour"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,s.jsxs)(r.Card,{className:"lg:col-span-1",children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(g.User,{className:"h-5 w-5"}),"Informations Client"]})}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-2xl font-bold",children:[f.firstName," ",f.lastName]}),(0,s.jsx)(l.Badge,{variant:f.user?.status==="active"?"default":"secondary",children:f.user?.status||"Inactif"})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Mail,{className:"h-4 w-4 text-gray-500"}),(0,s.jsx)("span",{children:f.email})]}),f.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Phone,{className:"h-4 w-4 text-gray-500"}),(0,s.jsx)("span",{children:f.phone})]}),f.address&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.MapPin,{className:"h-4 w-4 text-gray-500"}),(0,s.jsx)("span",{children:f.address})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Calendar,{className:"h-4 w-4 text-gray-500"}),(0,s.jsxs)("span",{children:["Créé le ",new Date(f.createdAt).toLocaleDateString("fr-FR")]})]}),f.user?.lastLogin&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Calendar,{className:"h-4 w-4 text-gray-500"}),(0,s.jsxs)("span",{children:["Dernière connexion: ",new Date(f.user.lastLogin).toLocaleDateString("fr-FR")]})]})]})]})]}),(0,s.jsxs)(r.Card,{className:"lg:col-span-2",children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{children:"Statistiques"})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,s.jsx)(h.FileText,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:N.totalDossiers}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Dossiers"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:N.dossiersActifs}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"En cours"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[(0,s.jsx)(u.AlertCircle,{className:"h-8 w-8 mx-auto mb-2 text-orange-600"}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:N.echeancesProches}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Échéances"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,s.jsx)(j.Euro,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[N.montantTotal,"€"]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Total factures"})]})]})})]})]}),(0,s.jsxs)(n.Tabs,{defaultValue:"dossiers",className:"w-full",children:[(0,s.jsxs)(n.TabsList,{children:[(0,s.jsxs)(n.TabsTrigger,{value:"dossiers",children:["Dossiers (",N.totalDossiers,")"]}),(0,s.jsxs)(n.TabsTrigger,{value:"documents",children:["Documents (",N.totalDocuments,")"]}),(0,s.jsxs)(n.TabsTrigger,{value:"factures",children:["Factures (",N.totalFactures,")"]})]}),(0,s.jsx)(n.TabsContent,{value:"dossiers",className:"mt-6",children:(0,s.jsx)(r.Card,{children:(0,s.jsx)(r.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[f.dossiers.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>p.push(`/admin/dossiers/${e.id}`),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold",children:e.numero}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.typeDossier}),(0,s.jsx)("p",{className:"text-sm mt-1",children:e.objet})]}),(0,s.jsx)(l.Badge,{variant:"termine"===e.statut?"default":"en_cours"===e.statut?"secondary":"outline",children:e.statut})]}),(0,s.jsxs)("div",{className:"flex gap-4 mt-3 text-xs text-gray-500",children:[(0,s.jsxs)("span",{children:[e.documents.length," documents"]}),(0,s.jsxs)("span",{children:[e.echeances.length," échéances"]}),(0,s.jsxs)("span",{children:["Créé le ",new Date(e.createdAt).toLocaleDateString("fr-FR")]})]})]},e.id)),0===f.dossiers.length&&(0,s.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Aucun dossier"})]})})})}),(0,s.jsx)(n.TabsContent,{value:"documents",className:"mt-6",children:(0,s.jsx)(r.Card,{children:(0,s.jsx)(r.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-2",children:[f.dossiers.flatMap(e=>e.documents).map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-gray-50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.originalName}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024).toFixed(2)," KB"]})]}),(0,s.jsx)(i.Button,{size:"sm",variant:"outline",children:"Télécharger"})]},e.id)),0===N.totalDocuments&&(0,s.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Aucun document"})]})})})}),(0,s.jsx)(n.TabsContent,{value:"factures",className:"mt-6",children:(0,s.jsx)(r.Card,{children:(0,s.jsx)(r.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-2",children:[f.dossiers.flatMap(e=>e.factures).map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.numero}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Échéance: ",new Date(e.dateEcheance).toLocaleDateString("fr-FR")]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"font-bold",children:[e.montant,"€"]}),(0,s.jsx)(l.Badge,{variant:"payee"===e.statut?"default":"secondary",children:e.statut})]})]},e.id)),0===N.totalFactures&&(0,s.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Aucune facture"})]})})})})]})]})}):(0,s.jsx)("div",{className:"p-8",children:"Client non trouvé"})}e.s(["default",()=>p,"dynamic",0,"force-dynamic"])}]);