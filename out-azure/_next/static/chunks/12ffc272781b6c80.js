(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,833884,e=>{"use strict";var s=e.i(843476),a=e.i(271645);let t=(0,a.memo)(({size:e="md",color:a="blue",className:t=""})=>(0,s.jsxs)("div",{className:`inline-block ${t}`,role:"status","aria-label":"Chargement",children:[(0,s.jsxs)("svg",{className:`animate-spin ${{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[e]} ${{blue:"text-blue-600",gray:"text-gray-600",white:"text-white"}[a]} gpu-accelerated`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{className:"sr-only",children:"Chargement..."})]}));t.displayName="LoadingSpinner";var l=e.i(165918);let r=(0,a.memo)(a.default.forwardRef(({variant:e="primary",size:a="md",isLoading:r=!1,className:i="",children:n,disabled:c,...o},d)=>{let m="primary"===e?{backgroundColor:l.colors.button,color:"white"}:{};return(0,s.jsx)("button",{ref:d,className:`
          inline-flex items-center justify-center font-medium rounded-lg transition-all duration-150 ease-out focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed will-change-transform
          ${{primary:"text-white hover:scale-105",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500 hover:scale-105",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 hover:scale-105",outline:"border-2 border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500 hover:scale-105"}[e]}
          ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]}
          ${i}
        `,style:m,disabled:c||r,...o,children:r?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsx)(t,{size:"sm",color:"outline"===e?"gray":"white",className:"mr-2"}),"Chargement..."]}):n})}));r.displayName="Button",e.s(["Button",0,r],833884)},343432,e=>{"use strict";let s=(0,e.i(475254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>s],343432)},270756,e=>{"use strict";let s=(0,e.i(475254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>s],270756)},972520,e=>{"use strict";let s=(0,e.i(475254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>s],972520)},203496,e=>{"use strict";let s=(0,e.i(475254).default)("scale",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]]);e.s(["Scale",()=>s],203496)},851529,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(618566),l=e.i(522016),r=e.i(203496),i=e.i(284614),n=e.i(263488),c=e.i(270756),o=e.i(342920),d=e.i(343432),m=e.i(269638),x=e.i(63209),u=e.i(972520),h=e.i(98919),g=e.i(833884);let p=[{id:"SOLO",name:"Solo",price:49,description:"Avocat indépendant",features:["20 clients","50 dossiers","1 utilisateur","5 GB stockage"],recommended:!1},{id:"CABINET",name:"Cabinet",price:349,description:"Petit à moyen cabinet",features:["100 clients","300 dossiers","5 utilisateurs","50 GB stockage","IA avancée"],recommended:!0},{id:"ENTERPRISE",name:"Enterprise",price:599,description:"Grand cabinet",features:["Clients illimités","Dossiers illimités","Utilisateurs illimités","500 GB stockage","API PISTE","Support dédié"],recommended:!1}];function b(){let e=(0,t.useRouter)(),[b,f]=(0,a.useState)(1),[j,y]=(0,a.useState)(!1),[N,v]=(0,a.useState)(""),[w,C]=(0,a.useState)(!1),[k,z]=(0,a.useState)({prenom:"",nom:"",email:"",password:"",confirmPassword:"",telephone:"",cabinetNom:"",numeroBarreau:"",adresse:"",ville:"",codePostal:"",plan:"CABINET",cgu:!1,charteIA:!1}),A=(e,s)=>{z(a=>({...a,[e]:s})),v("")},P=async()=>{if(k.cgu&&k.charteIA||(v("Veuillez accepter les conditions"),0)){y(!0),v("");try{let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...k,role:"AVOCAT"})}),a=await s.json();if(!s.ok)throw Error(a.error||"Erreur lors de l'inscription");C(!0),setTimeout(()=>{e.push("/auth/login?registered=true")},2e3)}catch(e){v(e.message)}finally{y(!1)}}};return w?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md text-center",children:[(0,s.jsx)(m.CheckCircle,{className:"mx-auto text-green-500 mb-4",size:64}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Inscription réussie !"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Votre compte a été créé. Vous allez être redirigé vers la page de connexion..."}),(0,s.jsx)("div",{className:"animate-pulse text-blue-600",children:"Redirection en cours..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(r.Scale,{size:32}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"IA Poste Manager"})]}),(0,s.jsxs)("p",{className:"text-blue-100",children:["Inscription Avocat - Étape ",b,"/3"]}),(0,s.jsx)("div",{className:"mt-4 flex gap-2",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:`h-2 flex-1 rounded-full ${e<=b?"bg-white":"bg-blue-400/50"}`},e))})]}),(0,s.jsxs)("div",{className:"p-8",children:[N&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700",children:[(0,s.jsx)(x.AlertCircle,{size:20}),N]}),1===b&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(i.User,{className:"text-blue-600",size:24}),"Informations personnelles"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prénom *"}),(0,s.jsx)("input",{type:"text",value:k.prenom,onChange:e=>A("prenom",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Jean"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),(0,s.jsx)("input",{type:"text",value:k.nom,onChange:e=>A("nom",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Dupont"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(n.Mail,{className:"inline mr-2",size:16}),"Email professionnel *"]}),(0,s.jsx)("input",{type:"email",value:k.email,onChange:e=>A("email",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"jean.dupont@avocat.fr"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(d.Phone,{className:"inline mr-2",size:16}),"Téléphone"]}),(0,s.jsx)("input",{type:"tel",value:k.telephone,onChange:e=>A("telephone",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"06 12 34 56 78"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(c.Lock,{className:"inline mr-2",size:16}),"Mot de passe *"]}),(0,s.jsx)("input",{type:"password",value:k.password,onChange:e=>A("password",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Min. 8 caractères"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer *"}),(0,s.jsx)("input",{type:"password",value:k.confirmPassword,onChange:e=>A("confirmPassword",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Confirmer le mot de passe"})]})]})]}),2===b&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(o.Building,{className:"text-blue-600",size:24}),"Votre Cabinet"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du cabinet *"}),(0,s.jsx)("input",{type:"text",value:k.cabinetNom,onChange:e=>A("cabinetNom",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Cabinet Dupont & Associés"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N° Barreau *"}),(0,s.jsx)("input",{type:"text",value:k.numeroBarreau,onChange:e=>A("numeroBarreau",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"P123456"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),(0,s.jsx)("input",{type:"text",value:k.ville,onChange:e=>A("ville",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Paris"})]})]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choisissez votre plan"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-4",children:p.map(e=>(0,s.jsxs)("div",{onClick:()=>A("plan",e.id),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all ${k.plan===e.id?"border-blue-600 bg-blue-50 shadow-lg":"border-gray-200 hover:border-blue-300"}`,children:[e.recommended&&(0,s.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:(0,s.jsx)("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:"Recommandé"})}),(0,s.jsx)("h4",{className:"font-bold text-gray-900",children:e.name}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-blue-600 my-2",children:[e.price,"€",(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"/mois"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,s.jsx)("ul",{className:"text-xs text-gray-500 space-y-1",children:e.features.map((e,a)=>(0,s.jsxs)("li",{className:"flex items-center gap-1",children:[(0,s.jsx)(m.CheckCircle,{size:12,className:"text-green-500"}),e]},a))})]},e.id))})]})]}),3===b&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(h.Shield,{className:"text-blue-600",size:24}),"Confirmation"]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl space-y-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Récapitulatif"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Avocat:"}),(0,s.jsxs)("p",{className:"font-medium",children:[k.prenom," ",k.nom]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Email:"}),(0,s.jsx)("p",{className:"font-medium",children:k.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Cabinet:"}),(0,s.jsx)("p",{className:"font-medium",children:k.cabinetNom})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Plan choisi:"}),(0,s.jsxs)("p",{className:"font-medium text-blue-600",children:[p.find(e=>e.id===k.plan)?.name," -",p.find(e=>e.id===k.plan)?.price,"€/mois"]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:k.cgu,onChange:e=>A("cgu",e.target.checked),className:"mt-1 h-5 w-5 text-blue-600 rounded"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["J'accepte les"," ",(0,s.jsx)("a",{href:"/cgu",className:"text-blue-600 underline",children:"Conditions Générales d'Utilisation"})," ","et la"," ",(0,s.jsx)("a",{href:"/privacy",className:"text-blue-600 underline",children:"Politique de Confidentialité"})]})]}),(0,s.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:k.charteIA,onChange:e=>A("charteIA",e.target.checked),className:"mt-1 h-5 w-5 text-blue-600 rounded"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["J'ai lu et j'accepte la"," ",(0,s.jsx)("a",{href:"/charte-ia",className:"text-blue-600 underline",children:"Charte IA"})," ","qui définit les règles d'utilisation de l'IA et garantit que les décisions critiques restent sous contrôle humain."]})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 flex justify-between",children:[b>1?(0,s.jsx)(g.Button,{onClick:()=>f(e=>e-1),className:"bg-gray-200 hover:bg-gray-300 text-gray-700",children:"Retour"}):(0,s.jsx)(l.default,{href:"/auth/login",className:"text-blue-600 hover:underline flex items-center",children:"Déjà inscrit ? Se connecter"}),b<3?(0,s.jsxs)(g.Button,{onClick:()=>{1===b&&!(k.prenom&&k.nom&&k.email?k.email.includes("@")?k.password.length<8?(v("Le mot de passe doit contenir au moins 8 caractères"),!1):k.password===k.confirmPassword||(v("Les mots de passe ne correspondent pas"),!1):(v("Email invalide"),!1):(v("Veuillez remplir tous les champs obligatoires"),!1))||(2!==b||k.cabinetNom&&k.numeroBarreau||(v("Veuillez remplir les informations du cabinet"),0))&&f(e=>e+1)},className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:["Continuer",(0,s.jsx)(u.ArrowRight,{size:16})]}):(0,s.jsxs)(g.Button,{onClick:P,disabled:j,className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",children:[j?"Inscription...":"Finaliser l'inscription",(0,s.jsx)(m.CheckCircle,{size:16})]})]})]})]})})}e.s(["default",()=>b,"dynamic",0,"force-dynamic"])}]);