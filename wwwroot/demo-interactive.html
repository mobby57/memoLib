<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé¨ MemoLib - D√©monstration Interactive Client</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        .container { max-width: 1600px; margin: 0 auto; display: grid; grid-template-columns: 1fr 400px; gap: 20px; }
        .main-panel { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .log-panel { background: #1e1e1e; border-radius: 15px; padding: 20px; color: #fff; max-height: 90vh; overflow-y: auto; }
        h1 { color: #667eea; margin-bottom: 10px; }
        .subtitle { color: #666; margin-bottom: 30px; }
        .scenario { background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #667eea; }
        .scenario h3 { color: #333; margin-bottom: 10px; }
        .step { background: white; padding: 15px; margin: 10px 0; border-radius: 8px; border: 2px solid #e0e0e0; }
        .step.active { border-color: #667eea; box-shadow: 0 0 20px rgba(102, 126, 234, 0.3); }
        .step.completed { border-color: #10b981; background: #f0fdf4; }
        .step-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
        .step-number { background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .step.completed .step-number { background: #10b981; }
        .step-title { font-weight: bold; color: #333; flex: 1; margin-left: 15px; }
        .step-status { font-size: 0.9em; color: #666; }
        .step-description { color: #666; margin-bottom: 15px; }
        .action-button { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            width: 100%;
            transition: all 0.3s;
        }
        .action-button:hover { transform: scale(1.05); }
        .action-button:disabled { opacity: 0.5; cursor: not-allowed; }
        .result-box { 
            margin-top: 15px;
            padding: 15px;
            background: #f0f9ff;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
            display: none;
        }
        .result-box.show { display: block; animation: slideIn 0.3s; }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .log-title { color: #10b981; font-weight: bold; margin-bottom: 15px; font-size: 1.2em; }
        .log-entry { 
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            font-size: 0.9em;
            border-left: 3px solid #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        .log-entry.success { border-left-color: #10b981; background: rgba(16, 185, 129, 0.1); }
        .log-entry.warning { border-left-color: #f59e0b; background: rgba(245, 158, 11, 0.1); }
        .log-entry.error { border-left-color: #ef4444; background: rgba(239, 68, 68, 0.1); }
        .log-time { color: #888; font-size: 0.85em; }
        .log-message { margin-top: 5px; }
        .data-display { 
            background: #2d2d2d;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            color: #10b981;
        }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.5s;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-panel">
            <h1>üé¨ D√©monstration Interactive MemoLib</h1>
            <p class="subtitle">Sc√©nario r√©el : R√©ception d'un email client ‚Üí Automatisation compl√®te</p>

            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>

            <div class="scenario">
                <h3>üìß Sc√©nario : Email Urgent d'un Client VIP</h3>
                <p><strong>Contexte :</strong> Un client VIP envoie un email marqu√© "URGENT" concernant une audience imminente. Le syst√®me doit automatiquement traiter ce message et d√©clencher toutes les actions n√©cessaires.</p>
            </div>

            <!-- √âtape 1 -->
            <div class="step" id="step1">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-title">üì® R√©ception Email</div>
                    <div class="step-status">En attente</div>
                </div>
                <div class="step-description">
                    Simuler la r√©ception d'un email urgent d'un client VIP
                </div>
                <button class="action-button" onclick="step1()">üìß Recevoir l'Email</button>
                <div class="result-box" id="result1"></div>
            </div>

            <!-- √âtape 2 -->
            <div class="step" id="step2">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-title">ü§ñ D√©tection Automatisation</div>
                    <div class="step-status">En attente</div>
                </div>
                <div class="step-description">
                    Le syst√®me d√©tecte automatiquement que l'email contient "URGENT" et vient d'un client VIP
                </div>
                <button class="action-button" onclick="step2()" disabled>‚ö° D√©clencher Automatisation</button>
                <div class="result-box" id="result2"></div>
            </div>

            <!-- √âtape 3 -->
            <div class="step" id="step3">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-title">üìÅ Cr√©ation Dossier Automatique</div>
                    <div class="step-status">En attente</div>
                </div>
                <div class="step-description">
                    Cr√©ation automatique d'un dossier avec priorit√© CRITIQUE
                </div>
                <button class="action-button" onclick="step3()" disabled>üìÇ Cr√©er Dossier</button>
                <div class="result-box" id="result3"></div>
            </div>

            <!-- √âtape 4 -->
            <div class="step" id="step4">
                <div class="step-header">
                    <div class="step-number">4</div>
                    <div class="step-title">‚úÖ Cr√©ation T√¢ches Automatiques</div>
                    <div class="step-status">En attente</div>
                </div>
                <div class="step-description">
                    G√©n√©ration automatique de 3 t√¢ches urgentes
                </div>
                <button class="action-button" onclick="step4()" disabled>üìù Cr√©er T√¢ches</button>
                <div class="result-box" id="result4"></div>
            </div>

            <!-- √âtape 5 -->
            <div class="step" id="step5">
                <div class="step-header">
                    <div class="step-number">5</div>
                    <div class="step-title">üë§ Assignation Automatique</div>
                    <div class="step-status">En attente</div>
                </div>
                <div class="step-description">
                    Assignation automatique √† l'avocat senior disponible
                </div>
                <button class="action-button" onclick="step5()" disabled>üë®‚Äç‚öñÔ∏è Assigner Avocat</button>
                <div class="result-box" id="result5"></div>
            </div>

            <!-- √âtape 6 -->
            <div class="step" id="step6">
                <div class="step-header">
                    <div class="step-number">6</div>
                    <div class="step-title">üîî Notifications √âquipe</div>
                    <div class="step-status">En attente</div>
                </div>
                <div class="step-description">
                    Envoi automatique de notifications √† toute l'√©quipe
                </div>
                <button class="action-button" onclick="step6()" disabled>üì¢ Envoyer Notifications</button>
                <div class="result-box" id="result6"></div>
            </div>

            <!-- √âtape 7 -->
            <div class="step" id="step7">
                <div class="step-header">
                    <div class="step-number">7</div>
                    <div class="step-title">üìÖ Cr√©ation √âv√©nement Calendrier</div>
                    <div class="step-status">En attente</div>
                </div>
                <div class="step-description">
                    Ajout automatique au calendrier avec rappels
                </div>
                <button class="action-button" onclick="step7()" disabled>üóìÔ∏è Ajouter au Calendrier</button>
                <div class="result-box" id="result7"></div>
            </div>

            <!-- √âtape 8 -->
            <div class="step" id="step8">
                <div class="step-header">
                    <div class="step-number">8</div>
                    <div class="step-title">üìä G√©n√©ration Rapport</div>
                    <div class="step-status">En attente</div>
                </div>
                <div class="step-description">
                    G√©n√©ration automatique d'un rapport de suivi
                </div>
                <button class="action-button" onclick="step8()" disabled>üìà G√©n√©rer Rapport</button>
                <div class="result-box" id="result8"></div>
            </div>
        </div>

        <div class="log-panel">
            <div class="log-title">üìã Journal d'Activit√© en Temps R√©el</div>
            <div id="logs"></div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 8;

        function log(message, type = 'info', data = null) {
            const logs = document.getElementById('logs');
            const time = new Date().toLocaleTimeString('fr-FR');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.innerHTML = `
                <div class="log-time">${time}</div>
                <div class="log-message">${message}</div>
                ${data ? `<div class="data-display">${JSON.stringify(data, null, 2)}</div>` : ''}
            `;
            logs.insertBefore(entry, logs.firstChild);
        }

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        function completeStep(stepNum) {
            const step = document.getElementById(`step${stepNum}`);
            step.classList.add('completed');
            step.querySelector('.step-status').textContent = '‚úÖ Termin√©';
            
            if (stepNum < totalSteps) {
                const nextButton = document.querySelector(`#step${stepNum + 1} button`);
                nextButton.disabled = false;
                document.getElementById(`step${stepNum + 1}`).classList.add('active');
            }
            
            currentStep++;
            updateProgress();
        }

        function step1() {
            log('üîÑ D√©marrage de la r√©ception d\'email...', 'info');
            
            setTimeout(() => {
                const emailData = {
                    from: 'client.vip@example.com',
                    subject: 'URGENT - Audience demain 14h',
                    body: 'Bonjour Ma√Ætre, j\'ai besoin de vous voir d\'urgence concernant l\'audience de demain...',
                    received: new Date().toISOString(),
                    priority: 'HIGH'
                };
                
                log('‚úÖ Email re√ßu avec succ√®s', 'success', emailData);
                log('üîç Analyse du contenu de l\'email...', 'info');
                log('‚ö†Ô∏è Mot-cl√© "URGENT" d√©tect√©', 'warning');
                log('üë§ Exp√©diteur identifi√© comme client VIP', 'success');
                
                document.getElementById('result1').innerHTML = `
                    <strong>‚úÖ Email Re√ßu</strong><br>
                    <strong>De:</strong> ${emailData.from}<br>
                    <strong>Sujet:</strong> ${emailData.subject}<br>
                    <strong>Priorit√©:</strong> üî¥ HAUTE<br>
                    <strong>Statut:</strong> Client VIP d√©tect√©
                `;
                document.getElementById('result1').classList.add('show');
                
                completeStep(1);
            }, 1000);
        }

        function step2() {
            log('ü§ñ Recherche d\'automatisations correspondantes...', 'info');
            
            setTimeout(() => {
                const automation = {
                    id: 'AUTO-' + Math.random().toString(36).substr(2, 9).toUpperCase(),
                    name: 'Traitement Email Urgent VIP',
                    trigger: 'EMAIL_RECEIVED + URGENT + VIP',
                    actions: ['CREATE_CASE', 'SET_PRIORITY', 'CREATE_TASKS', 'ASSIGN_LAWYER', 'NOTIFY_TEAM']
                };
                
                log('‚úÖ Automatisation trouv√©e et activ√©e', 'success', automation);
                log('‚ö° D√©clenchement de 5 actions automatiques', 'warning');
                
                document.getElementById('result2').innerHTML = `
                    <strong>‚úÖ Automatisation D√©clench√©e</strong><br>
                    <strong>R√®gle:</strong> ${automation.name}<br>
                    <strong>ID:</strong> ${automation.id}<br>
                    <strong>Actions:</strong> ${automation.actions.length} actions programm√©es<br>
                    <strong>Statut:</strong> ‚ö° En cours d'ex√©cution
                `;
                document.getElementById('result2').classList.add('show');
                
                completeStep(2);
            }, 1200);
        }

        function step3() {
            log('üìÅ Cr√©ation automatique du dossier...', 'info');
            
            setTimeout(() => {
                const caseData = {
                    id: 'CASE-' + Math.random().toString(36).substr(2, 9).toUpperCase(),
                    title: 'URGENT - Audience Client VIP',
                    status: 'OPEN',
                    priority: 1,
                    client: 'client.vip@example.com',
                    created: new Date().toISOString()
                };
                
                log('‚úÖ Dossier cr√©√© automatiquement', 'success', caseData);
                log('üî¥ Priorit√© d√©finie √† CRITIQUE (1/5)', 'warning');
                log('üìé Email attach√© au dossier', 'success');
                
                document.getElementById('result3').innerHTML = `
                    <strong>‚úÖ Dossier Cr√©√©</strong><br>
                    <strong>ID:</strong> ${caseData.id}<br>
                    <strong>Titre:</strong> ${caseData.title}<br>
                    <strong>Priorit√©:</strong> üî¥ CRITIQUE (1/5)<br>
                    <strong>Statut:</strong> OUVERT<br>
                    <strong>Client:</strong> ${caseData.client}
                `;
                document.getElementById('result3').classList.add('show');
                
                completeStep(3);
            }, 1000);
        }

        function step4() {
            log('‚úÖ G√©n√©ration automatique des t√¢ches...', 'info');
            
            setTimeout(() => {
                const tasks = [
                    { id: 'TASK-001', title: 'Pr√©parer dossier audience', priority: 1, due: 'Aujourd\'hui 17h' },
                    { id: 'TASK-002', title: 'Contacter client pour briefing', priority: 1, due: 'Aujourd\'hui 15h' },
                    { id: 'TASK-003', title: 'V√©rifier pi√®ces justificatives', priority: 2, due: 'Aujourd\'hui 16h' }
                ];
                
                tasks.forEach(task => {
                    log(`‚úÖ T√¢che cr√©√©e: ${task.title}`, 'success', task);
                });
                
                document.getElementById('result4').innerHTML = `
                    <strong>‚úÖ 3 T√¢ches Cr√©√©es Automatiquement</strong><br>
                    ${tasks.map(t => `
                        <div style="margin: 10px 0; padding: 10px; background: white; border-radius: 5px;">
                            <strong>${t.title}</strong><br>
                            Priorit√©: ${'üî¥'.repeat(t.priority)} | √âch√©ance: ${t.due}
                        </div>
                    `).join('')}
                `;
                document.getElementById('result4').classList.add('show');
                
                completeStep(4);
            }, 1500);
        }

        function step5() {
            log('üë®‚Äç‚öñÔ∏è Recherche d\'avocat disponible...', 'info');
            
            setTimeout(() => {
                const assignment = {
                    lawyer: 'Ma√Ætre Jean Dupont',
                    role: 'Avocat Senior',
                    availability: 'Disponible',
                    specialization: 'Droit Civil',
                    assigned: new Date().toISOString()
                };
                
                log('‚úÖ Avocat trouv√© et assign√©', 'success', assignment);
                log('üìß Email de notification envoy√© √† l\'avocat', 'success');
                
                document.getElementById('result5').innerHTML = `
                    <strong>‚úÖ Dossier Assign√©</strong><br>
                    <strong>Avocat:</strong> ${assignment.lawyer}<br>
                    <strong>R√¥le:</strong> ${assignment.role}<br>
                    <strong>Sp√©cialisation:</strong> ${assignment.specialization}<br>
                    <strong>Statut:</strong> ‚úÖ ${assignment.availability}<br>
                    <strong>Notification:</strong> üìß Envoy√©e
                `;
                document.getElementById('result5').classList.add('show');
                
                completeStep(5);
            }, 1000);
        }

        function step6() {
            log('üì¢ Envoi des notifications √† l\'√©quipe...', 'info');
            
            setTimeout(() => {
                const notifications = [
                    { to: 'Ma√Ætre Dupont', type: 'ASSIGNMENT', status: 'Envoy√©e' },
                    { to: 'Secr√©taire', type: 'NEW_URGENT_CASE', status: 'Envoy√©e' },
                    { to: 'Associ√©', type: 'VIP_CLIENT', status: 'Envoy√©e' }
                ];
                
                notifications.forEach(notif => {
                    log(`‚úÖ Notification envoy√©e √† ${notif.to}`, 'success', notif);
                });
                
                document.getElementById('result6').innerHTML = `
                    <strong>‚úÖ ${notifications.length} Notifications Envoy√©es</strong><br>
                    ${notifications.map(n => `
                        <div style="margin: 10px 0; padding: 10px; background: white; border-radius: 5px;">
                            <strong>√Ä:</strong> ${n.to}<br>
                            <strong>Type:</strong> ${n.type}<br>
                            <strong>Statut:</strong> ‚úÖ ${n.status}
                        </div>
                    `).join('')}
                `;
                document.getElementById('result6').classList.add('show');
                
                completeStep(6);
            }, 1200);
        }

        function step7() {
            log('üìÖ Ajout au calendrier...', 'info');
            
            setTimeout(() => {
                const event = {
                    id: 'EVENT-' + Math.random().toString(36).substr(2, 9).toUpperCase(),
                    title: 'Audience - Client VIP',
                    date: 'Demain 14h00',
                    duration: '2 heures',
                    location: 'Tribunal de Grande Instance',
                    reminders: ['1 heure avant', '30 minutes avant'],
                    sync: 'Google Calendar'
                };
                
                log('‚úÖ √âv√©nement ajout√© au calendrier', 'success', event);
                log('üîî 2 rappels programm√©s', 'success');
                log('üîÑ Synchronis√© avec Google Calendar', 'success');
                
                document.getElementById('result7').innerHTML = `
                    <strong>‚úÖ √âv√©nement Cr√©√©</strong><br>
                    <strong>ID:</strong> ${event.id}<br>
                    <strong>Titre:</strong> ${event.title}<br>
                    <strong>Date:</strong> ${event.date}<br>
                    <strong>Dur√©e:</strong> ${event.duration}<br>
                    <strong>Lieu:</strong> ${event.location}<br>
                    <strong>Rappels:</strong> ${event.reminders.join(', ')}<br>
                    <strong>Sync:</strong> ‚úÖ ${event.sync}
                `;
                document.getElementById('result7').classList.add('show');
                
                completeStep(7);
            }, 1000);
        }

        function step8() {
            log('üìä G√©n√©ration du rapport de suivi...', 'info');
            
            setTimeout(() => {
                const report = {
                    id: 'REPORT-' + Math.random().toString(36).substr(2, 9).toUpperCase(),
                    type: 'Workflow Automatis√©',
                    duration: '8.5 secondes',
                    actions: 8,
                    success: '100%',
                    generated: new Date().toISOString()
                };
                
                log('‚úÖ Rapport g√©n√©r√© avec succ√®s', 'success', report);
                log('üéâ WORKFLOW COMPLET TERMIN√â !', 'success');
                log('‚è±Ô∏è Temps total: ' + report.duration, 'info');
                log('‚úÖ Toutes les actions ex√©cut√©es automatiquement', 'success');
                
                document.getElementById('result8').innerHTML = `
                    <strong>‚úÖ Rapport G√©n√©r√©</strong><br>
                    <strong>ID:</strong> ${report.id}<br>
                    <strong>Type:</strong> ${report.type}<br>
                    <strong>Dur√©e totale:</strong> ${report.duration}<br>
                    <strong>Actions ex√©cut√©es:</strong> ${report.actions}/8<br>
                    <strong>Taux de succ√®s:</strong> ${report.success}<br>
                    <br>
                    <div style="background: #10b981; color: white; padding: 15px; border-radius: 8px; text-align: center; font-weight: bold;">
                        üéâ D√âMONSTRATION TERMIN√âE !<br>
                        Toutes les fonctionnalit√©s ont √©t√© ex√©cut√©es automatiquement
                    </div>
                `;
                document.getElementById('result8').classList.add('show');
                
                completeStep(8);
                
                setTimeout(() => {
                    alert('üéâ D√©monstration termin√©e avec succ√®s !\n\n‚úÖ 8 √©tapes compl√©t√©es\n‚úÖ 100% automatis√©\n‚úÖ Toutes les fonctionnalit√©s test√©es\n\nConsultez le journal d\'activit√© pour voir tous les d√©tails.');
                }, 500);
            }, 1500);
        }

        // Initialisation
        document.getElementById('step1').classList.add('active');
        log('üöÄ Syst√®me MemoLib initialis√©', 'success');
        log('üìã Pr√™t pour la d√©monstration interactive', 'info');
    </script>
</body>
</html>
