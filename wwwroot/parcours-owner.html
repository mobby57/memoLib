<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parcours Propri√©taire - MemoLib</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; }
        
        .header { background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); color: white; padding: 30px; text-align: center; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header p { font-size: 1.2em; opacity: 0.9; }
        
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        
        .progress-bar { background: white; border-radius: 10px; padding: 20px; margin-bottom: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .progress-steps { display: flex; justify-content: space-between; position: relative; }
        .progress-steps::before { content: ''; position: absolute; top: 20px; left: 0; right: 0; height: 4px; background: #e0e0e0; z-index: 0; }
        .step { text-align: center; position: relative; z-index: 1; flex: 1; }
        .step-circle { width: 40px; height: 40px; border-radius: 50%; background: #e0e0e0; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; }
        .step.active .step-circle { background: #2c3e50; }
        .step.completed .step-circle { background: #27ae60; }
        .step-label { font-size: 0.9em; color: #666; }
        
        .section { background: white; border-radius: 15px; padding: 30px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .section h2 { color: #2c3e50; margin-bottom: 20px; font-size: 1.8em; }
        .section-intro { background: #ecf0f1; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #2c3e50; }
        
        .action-card { background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 15px; border-left: 4px solid #3498db; }
        .action-card h3 { color: #2c3e50; margin-bottom: 10px; }
        .action-card p { color: #666; margin-bottom: 15px; line-height: 1.6; }
        
        .btn { background: linear-gradient(45deg, #2c3e50, #34495e); color: white; border: none; padding: 12px 30px; border-radius: 25px; cursor: pointer; font-size: 16px; transition: all 0.3s; text-decoration: none; display: inline-block; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(44, 62, 80, 0.4); }
        .btn-success { background: linear-gradient(45deg, #27ae60, #2ecc71); }
        .btn-warning { background: linear-gradient(45deg, #f39c12, #e67e22); }
        .btn-danger { background: linear-gradient(45deg, #c0392b, #e74c3c); }
        
        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }
        .metric-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 10px; text-align: center; }
        .metric-number { font-size: 3em; font-weight: bold; margin-bottom: 10px; }
        .metric-label { font-size: 1.1em; opacity: 0.9; }
        
        .checklist { list-style: none; }
        .checklist li { padding: 12px; margin-bottom: 10px; background: #f8f9fa; border-radius: 8px; display: flex; align-items: center; }
        .checklist li::before { content: '‚úì'; background: #27ae60; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-right: 15px; font-weight: bold; }
        .checklist li.pending::before { content: '‚óã'; background: #95a5a6; }
        
        .alert { padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .alert-info { background: #d1ecf1; border-left: 4px solid #0c5460; color: #0c5460; }
        .alert-success { background: #d4edda; border-left: 4px solid #155724; color: #155724; }
        .alert-warning { background: #fff3cd; border-left: 4px solid #856404; color: #856404; }
    </style>
</head>
<body>
    <div class="header">
        <h1>üèõÔ∏è Parcours Propri√©taire Cabinet</h1>
        <p>Configuration et pilotage strat√©gique de votre cabinet</p>
    </div>

    <div class="container">
        <!-- Barre de progression -->
        <div class="progress-bar">
            <div class="progress-steps">
                <div class="step completed">
                    <div class="step-circle">1</div>
                    <div class="step-label">Configuration</div>
                </div>
                <div class="step active">
                    <div class="step-circle">2</div>
                    <div class="step-label">√âquipe</div>
                </div>
                <div class="step">
                    <div class="step-circle">3</div>
                    <div class="step-label">Monitoring</div>
                </div>
                <div class="step">
                    <div class="step-circle">4</div>
                    <div class="step-label">Optimisation</div>
                </div>
            </div>
        </div>

        <!-- M√©triques cl√©s -->
        <div class="section">
            <h2>üìä Vue d'ensemble Cabinet</h2>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-number" id="totalCases">0</div>
                    <div class="metric-label">Dossiers actifs</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number" id="totalTeam">0</div>
                    <div class="metric-label">Collaborateurs</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number" id="totalClients">0</div>
                    <div class="metric-label">Clients</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number" id="monthlyRevenue">0‚Ç¨</div>
                    <div class="metric-label">CA mensuel</div>
                </div>
            </div>
        </div>

        <!-- √âtape 1: Configuration initiale -->
        <div class="section">
            <h2>‚öôÔ∏è √âtape 1: Configuration Initiale</h2>
            <div class="section-intro">
                <strong>Objectif:</strong> Configurer les param√®tres essentiels du cabinet en 15 minutes
            </div>

            <div class="action-card">
                <h3>1.1 Configuration Email</h3>
                <p>Connectez votre bo√Æte email professionnelle pour centraliser toutes les communications clients.</p>
                <ul class="checklist">
                    <li class="completed">Cr√©er un mot de passe d'application Gmail</li>
                    <li class="completed">Configurer IMAP/SMTP</li>
                    <li class="pending">Tester la connexion</li>
                </ul>
                <button class="btn" onclick="window.open('/email-setup.html', '_blank')">Configurer Email</button>
            </div>

            <div class="action-card">
                <h3>1.2 Param√®tres Cabinet</h3>
                <p>D√©finissez les informations de votre cabinet (nom, adresse, SIRET, sp√©cialit√©s juridiques).</p>
                <button class="btn" onclick="alert('Fonctionnalit√© en d√©veloppement')">Param√®tres Cabinet</button>
            </div>

            <div class="action-card">
                <h3>1.3 S√©curit√© & Conformit√©</h3>
                <p>Activez l'authentification √† deux facteurs et configurez les r√®gles RGPD.</p>
                <button class="btn" onclick="window.open('/gdpr-compliance.html', '_blank')">Conformit√© RGPD</button>
            </div>
        </div>

        <!-- √âtape 2: Gestion d'√©quipe -->
        <div class="section">
            <h2>üë• √âtape 2: Constitution de l'√âquipe</h2>
            <div class="section-intro">
                <strong>Objectif:</strong> Inviter et organiser vos collaborateurs avec les bons r√¥les
            </div>

            <div class="alert alert-info">
                <strong>üí° Conseil:</strong> Commencez par inviter vos associ√©s (r√¥le PARTNER), puis vos avocats (LAWYER), et enfin le personnel administratif.
            </div>

            <div class="action-card">
                <h3>2.1 Inviter des Collaborateurs</h3>
                <p>Envoyez des invitations par email avec attribution automatique des permissions selon le r√¥le.</p>
                <button class="btn btn-success" onclick="window.open('/demo.html#team', '_blank')">G√©rer l'√âquipe</button>
            </div>

            <div class="action-card">
                <h3>2.2 D√©finir les R√¥les</h3>
                <p><strong>R√¥les disponibles:</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>OWNER:</strong> Vous - Tous les droits</li>
                    <li><strong>PARTNER:</strong> Associ√©s - Gestion compl√®te</li>
                    <li><strong>LAWYER:</strong> Avocats - Gestion dossiers</li>
                    <li><strong>PARALEGAL:</strong> Juristes - Assistance dossiers</li>
                    <li><strong>SECRETARY:</strong> Secr√©taires - Gestion administrative</li>
                    <li><strong>INTERN:</strong> Stagiaires - Lecture seule</li>
                </ul>
            </div>
        </div>

        <!-- √âtape 3: Monitoring -->
        <div class="section">
            <h2>üìà √âtape 3: Monitoring & Pilotage</h2>
            <div class="section-intro">
                <strong>Objectif:</strong> Suivre l'activit√© du cabinet en temps r√©el
            </div>

            <div class="action-card">
                <h3>3.1 Dashboard Temps R√©el</h3>
                <p>Visualisez les KPIs essentiels: dossiers en cours, taux de r√©ponse, satisfaction client.</p>
                <button class="btn" onclick="window.open('/dashboard.html', '_blank')">Ouvrir Dashboard</button>
            </div>

            <div class="action-card">
                <h3>3.2 Audit & Tra√ßabilit√©</h3>
                <p>Consultez l'historique complet des actions pour garantir la conformit√© et la s√©curit√©.</p>
                <button class="btn" onclick="window.open('/demo.html#audit', '_blank')">Journal d'Audit</button>
            </div>

            <div class="action-card">
                <h3>3.3 Alertes Critiques</h3>
                <p>Configurez des notifications pour les √©v√©nements importants (nouveaux dossiers urgents, √©ch√©ances).</p>
                <button class="btn btn-warning" onclick="window.open('/demo.html#alerts', '_blank')">G√©rer les Alertes</button>
            </div>
        </div>

        <!-- √âtape 4: Optimisation -->
        <div class="section">
            <h2>üöÄ √âtape 4: Optimisation Continue</h2>
            <div class="section-intro">
                <strong>Objectif:</strong> Am√©liorer l'efficacit√© et la rentabilit√© du cabinet
            </div>

            <div class="action-card">
                <h3>4.1 Analyse de Performance</h3>
                <p>Identifiez les goulots d'√©tranglement et les opportunit√©s d'am√©lioration.</p>
                <button class="btn" onclick="window.open('/demo.html#stats', '_blank')">Analytics Avanc√©s</button>
            </div>

            <div class="action-card">
                <h3>4.2 Automatisation</h3>
                <p>Configurez des workflows automatiques pour r√©duire les t√¢ches r√©p√©titives.</p>
                <button class="btn" onclick="alert('Fonctionnalit√© en d√©veloppement')">Automatisations</button>
            </div>

            <div class="action-card">
                <h3>4.3 Facturation & Rentabilit√©</h3>
                <p>Suivez le temps pass√© par dossier et g√©n√©rez automatiquement les factures.</p>
                <button class="btn" onclick="alert('Fonctionnalit√© en d√©veloppement')">Module Facturation</button>
            </div>
        </div>

        <!-- Actions rapides -->
        <div class="section">
            <h2>‚ö° Actions Rapides</h2>
            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                <button class="btn" onclick="window.open('/demo.html', '_blank')">Interface Compl√®te</button>
                <button class="btn btn-success" onclick="window.open('/demo.html#cases', '_blank')">Voir Tous les Dossiers</button>
                <button class="btn btn-warning" onclick="window.open('/demo.html#export', '_blank')">Exporter Donn√©es</button>
                <button class="btn btn-danger" onclick="if(confirm('Sauvegarder avant de quitter?')) window.close()">Quitter</button>
            </div>
        </div>

        <!-- Checklist finale -->
        <div class="section">
            <h2>‚úÖ Checklist de D√©marrage</h2>
            <ul class="checklist">
                <li class="completed">Compte propri√©taire cr√©√©</li>
                <li class="completed">Email configur√©</li>
                <li class="pending">Au moins 1 collaborateur invit√©</li>
                <li class="pending">Premier dossier cr√©√©</li>
                <li class="pending">Dashboard consult√©</li>
                <li class="pending">Conformit√© RGPD valid√©e</li>
            </ul>
        </div>
    </div>

    <script>
        // Charger les m√©triques
        async function loadMetrics() {
            try {
                const response = await fetch('http://localhost:5078/api/dashboard/overview', {
                    headers: { 'Authorization': `Bearer ${localStorage.getItem('authToken')}` }
                });
                if (response.ok) {
                    const data = await response.json();
                    document.getElementById('totalCases').textContent = data.stats?.totalCases || 0;
                    document.getElementById('totalClients').textContent = data.stats?.totalClients || 0;
                }
            } catch (err) {
                console.error('Erreur chargement m√©triques:', err);
            }
        }

        loadMetrics();
        setInterval(loadMetrics, 30000);
    </script>
</body>
</html>
