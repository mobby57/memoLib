# Configuration Email Provisioning Cloud

# ===================================
# PROVIDER À CHOISIR
# ===================================
# Options: sendgrid, aws-ses, microsoft365, google
EMAIL_PROVIDER=sendgrid

# Votre domaine personnalisé
EMAIL_DOMAIN=iapostemanager.com

# ===================================
# SENDGRID CONFIGURATION
# ===================================
# 1. Créer compte: https://sendgrid.com
# 2. Settings → API Keys → Create API Key
# 3. Permissions: Full Access (ou Mail Send + Subuser Management)
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ===================================
# AWS SES CONFIGURATION
# ===================================
# 1. Console AWS → SES
# 2. Vérifier domaine
# 3. IAM → Create User → Attach SESFullAccess
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AWS_REGION=eu-west-1

# ===================================
# MICROSOFT 365 CONFIGURATION
# ===================================
# 1. Azure Portal → App registrations → New
# 2. API permissions → Microsoft Graph → User.ReadWrite.All
# 3. Certificates & secrets → New client secret
MICROSOFT_TENANT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
MICROSOFT_CLIENT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
MICROSOFT_CLIENT_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ===================================
# GOOGLE WORKSPACE CONFIGURATION
# ===================================
# 1. Google Cloud Console → Create Project
# 2. Enable Admin SDK API
# 3. Create Service Account
# 4. Download JSON key file
GOOGLE_SERVICE_ACCOUNT_FILE=/path/to/service-account-key.json
GOOGLE_ADMIN_EMAIL=admin@votre-domaine.com

# ===================================
# LIMITES & SÉCURITÉ
# ===================================
# Nombre max d'adresses par utilisateur
MAX_EMAIL_ACCOUNTS_PER_USER=10

# Nombre max d'adresses au total
MAX_EMAIL_ACCOUNTS_TOTAL=1000

# Emails à autoriser (liste blanche patterns)
ALLOWED_EMAIL_PATTERNS=contact,support,info,hello,sales,admin,noreply

# Emails interdits (liste noire)
BLOCKED_EMAIL_PATTERNS=abuse,spam,hack,admin,root,postmaster

# ===================================
# COÛTS ESTIMÉS (RÉFÉRENCES)
# ===================================
# SendGrid:
#   - Essentials: $19.95/mois (100 sous-utilisateurs, 100k emails/mois)
#   - Pro: $89.95/mois (1000 sous-utilisateurs, 1.5M emails/mois)
#
# AWS SES:
#   - $0.10 / 1000 emails
#   - Gratuit: 62,000 emails/mois (si depuis EC2)
#
# Microsoft 365:
#   - Business Basic: €5/user/mois
#   - Business Standard: €10.50/user/mois
#
# Google Workspace:
#   - Business Starter: €5.20/user/mois
#   - Business Standard: €10.40/user/mois
