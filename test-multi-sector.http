### üåç TESTS API MULTI-SECTEURS - MemoLib

@baseUrl = http://localhost:5078
@token = {{login.response.body.token}}

### 1. Login (obtenir le token)
# @name login
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "admin@memolib.local",
  "password": "Admin123!"
}

### 2. Lister tous les secteurs disponibles (PUBLIC)
GET {{baseUrl}}/api/sector/available

### 3. Obtenir la configuration du secteur Legal
GET {{baseUrl}}/api/sector/legal/config
Authorization: Bearer {{token}}

### 4. Obtenir la configuration du secteur Medical
GET {{baseUrl}}/api/sector/medical/config
Authorization: Bearer {{token}}

### 5. Obtenir la configuration du secteur Consulting
GET {{baseUrl}}/api/sector/consulting/config
Authorization: Bearer {{token}}

### 6. Obtenir la terminologie Legal
GET {{baseUrl}}/api/sector/legal/terminology
Authorization: Bearer {{token}}

### 7. Obtenir la terminologie Medical
GET {{baseUrl}}/api/sector/medical/terminology
Authorization: Bearer {{token}}

### 8. Obtenir les champs personnalis√©s Legal
GET {{baseUrl}}/api/sector/legal/fields
Authorization: Bearer {{token}}

### 9. Obtenir les champs personnalis√©s Medical
GET {{baseUrl}}/api/sector/medical/fields
Authorization: Bearer {{token}}

### 10. Cr√©er un nouveau tenant (Accounting)
POST {{baseUrl}}/api/sector/create
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "sectorId": "accounting",
  "displayName": "AccountMemo",
  "brandColor": "#F59E0B",
  "terminology": {
    "Case": "Dossier Client",
    "Client": "Client",
    "Document": "Pi√®ce Comptable",
    "Event": "Transaction"
  },
  "customFields": [
    {
      "name": "CompanyId",
      "type": "string",
      "label": "N¬∞ SIRET"
    },
    {
      "name": "FiscalYear",
      "type": "string",
      "label": "Exercice Fiscal"
    },
    {
      "name": "AccountingType",
      "type": "enum",
      "label": "Type Comptabilit√©",
      "options": ["G√©n√©rale", "Analytique", "Budg√©taire"]
    }
  ],
  "compliance": {
    "dataRetention": "10 years",
    "encryption": "AES-256",
    "auditLog": true,
    "gdpr": true
  }
}

### 11. V√©rifier la sant√© de l'API
GET {{baseUrl}}/health

### 12. Obtenir les statistiques (si disponible)
GET {{baseUrl}}/api/stats
Authorization: Bearer {{token}}

###
### üéØ SC√âNARIOS DE TEST
###

### SC√âNARIO 1: Avocat utilise LegalMemo
# 1. Login en tant qu'avocat
# 2. Voir config Legal
# 3. Cr√©er un dossier avec champs Legal (CourtName, JudgeNumber, LegalArea)

### SC√âNARIO 2: M√©decin utilise MediMemo
# 1. Login en tant que m√©decin
# 2. Voir config Medical
# 3. Cr√©er un dossier patient avec champs Medical (PatientId, Diagnosis, Treatment)

### SC√âNARIO 3: Consultant utilise ConsultMemo
# 1. Login en tant que consultant
# 2. Voir config Consulting
# 3. Cr√©er un projet avec champs Consulting (ProjectType, Budget, Deadline)

###
### üìä R√âSULTATS ATTENDUS
###

### Secteurs disponibles devrait retourner:
# [
#   { "id": "legal", "name": "LegalMemo", "icon": "‚öñÔ∏è", "description": "Pour avocats et juristes" },
#   { "id": "medical", "name": "MediMemo", "icon": "‚öïÔ∏è", "description": "Pour m√©decins et professionnels sant√©" },
#   { "id": "consulting", "name": "ConsultMemo", "icon": "üíº", "description": "Pour consultants et experts" },
#   ...
# ]

### Config Legal devrait retourner:
# {
#   "sectorId": "legal",
#   "displayName": "LegalMemo",
#   "brandColor": "#1E40AF",
#   "terminology": {
#     "Case": "Dossier",
#     "Client": "Client",
#     "Document": "Pi√®ce",
#     "Event": "√âv√©nement"
#   },
#   "customFields": [
#     { "name": "CourtName", "type": "string", "label": "Tribunal" },
#     { "name": "JudgeNumber", "type": "string", "label": "N¬∞ RG" },
#     { "name": "LegalArea", "type": "enum", "label": "Domaine", "options": [...] }
#   ],
#   ...
# }

###
### üöÄ PROCHAINES √âTAPES
###

# 1. Tester tous les endpoints ci-dessus
# 2. V√©rifier que chaque secteur a sa propre config
# 3. Cr√©er des dossiers avec champs personnalis√©s par secteur
# 4. Valider l'isolation multi-tenant

###
### üí° NOTES
###

# - Tous les endpoints /api/sector/* sont prot√©g√©s par JWT (sauf /available)
# - Chaque secteur peut avoir sa propre terminologie
# - Les champs personnalis√©s sont stock√©s en JSON dans Case.CustomFieldsJson
# - La conformit√© (HIPAA, GDPR) est configur√©e par secteur

###
### üéØ OBJECTIF
###

# Valider que la plateforme peut supporter 8 secteurs diff√©rents
# avec le m√™me code backend (80% commun, 20% configuration)
